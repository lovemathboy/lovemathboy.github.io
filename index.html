<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advent of Lmbee</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Additional styles specific to home page */
        .intro {
            background-color: #10101a;
            padding: 30px;
            border-radius: 5px;
            margin-bottom: 40px;
            border: 1px solid #333;
            text-align: center;
        }
        
        .intro p {
            font-size: 1.1em;
            margin-bottom: 10px;
        }
        
        .calendar {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 40px;
        }
        
        .day-card {
            background-color: #10101a;
            border: 2px solid #333;
            border-radius: 5px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            text-decoration: none;
            color: #cccccc;
            display: block;
            position: relative;
        }
        
        .day-card:hover {
            border-color: #009900;
            background-color: #1a1a2e;
            transform: translateY(-2px);
        }
        
        .day-card.locked {
            opacity: 0.5;
            cursor: not-allowed;
            border-color: #555;
        }
        
        .day-card.locked:hover {
            border-color: #555;
            background-color: #10101a;
            transform: none;
        }
        
        .day-card.completed {
            border-color: #00cc00;
        }
        
        .day-number {
            font-size: 2em;
            font-weight: bold;
            color: #ffff66;
            margin-bottom: 10px;
        }
        
        .day-title {
            font-size: 0.9em;
            color: #999;
            margin-bottom: 15px;
        }
        
        .day-stars {
            font-size: 1.5em;
            min-height: 30px;
        }
        
        .lock-icon {
            font-size: 2em;
            margin-top: 10px;
        }
        
        .stats {
            background-color: #10101a;
            padding: 25px;
            border-radius: 5px;
            border: 1px solid #333;
            margin-bottom: 30px;
        }
        
        .stats h2 {
            color: #ffff66;
            margin-bottom: 20px;
        }
        
        .stat-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #00cc00;
        }
        
        .stat-label {
            color: #999;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Advent of Lmbee</h1>
            <nav>
                <a href="index.html">[Home]</a>
                <a href="leaderboard.html">[Leaderboard]</a>
            </nav>
        </header>
        
        <main>
            <div class="intro hidden">
                <h2>Welcome to the Coding Challenge!</h2>
                <p>A new problem unlocks every day at 5:00 AM UTC.</p>
                <p>Solve both parts as quickly as possible to climb the leaderboard!</p>
            </div>
            
            <div class="stats" style="text-align: center;">
                <h2>Your Progress</h2>
                <div class="stat-grid">
                    <div class="stat-item">
                        <div class="stat-value" id="stars-earned">0</div>
                        <div class="stat-label">Stars Earned</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="problems-completed">0</div>
                        <div class="stat-label">Problems Completed</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="problems-unlocked">0</div>
                        <div class="stat-label">Problems Unlocked</div>
                    </div>
                </div>
            </div>
            
            <h2>Problems</h2>
            <div class="calendar" id="calendar"></div>
        </main>
    </div>
    
    <script>
        // Configuration - Define all problems here
        const PROBLEMS = [
            /* {
                id: 'day1',
                number: 1,
                title: 'Test Problem, Please Ignore',
                unlockTime: new Date('2025-12-12T05:00:00Z'),
                filename: 'day1.html'
            }, */
            {
                id: 'day13',
                number: 13,
                title: 'Legume Plantation',
                unlockTime: new Date('2025-12-13T05:00:00Z'),
                filename: 'day13.html'
            },
            {
                id: 'day14',
                number: 14,
                title: 'Flip-Flop',
                unlockTime: new Date('2025-12-14T05:00:00Z'),
                filename: 'day14.html'
            },
            {
                id: 'day15',
                number: 15,
                title: 'Mediocre Toys',
                unlockTime: new Date('2025-12-15T05:00:00Z'),
                filename: 'day15.html'
            },
            {
                id: 'day16',
                number: 16,
                title: 'Remedial Lessons',
                unlockTime: new Date('2025-12-16T05:00:00Z'),
                filename: 'day16.html'
            },
            {
                id: 'day17',
                number: 17,
                title: 'Networking',
                unlockTime: new Date('2025-12-17T05:00:00Z'),
                filename: 'day17.html'
            },
            {
                id: 'day18',
                number: 18,
                title: 'Pattern Matching',
                unlockTime: new Date('2025-12-18T05:00:00Z'),
                filename: 'day18.html'
            },
            {
                id: 'day19',
                number: 19,
                title: 'Grid Traversal',
                unlockTime: new Date('2025-12-19T05:00:00Z'),
                filename: 'day19.html'
            },
            {
                id: 'day20',
                number: 20,
                title: 'Sprinklers',
                unlockTime: new Date('2025-12-20T05:00:00Z'),
                filename: 'day20.html'
            },
            {
                id: 'day21',
                number: 21,
                title: 'Grid Traversal v2',
                unlockTime: new Date('2025-12-21T05:00:00Z'),
                filename: 'day21.html'
            },
            {
                id: 'day22',
                number: 22,
                title: 'Coming Soon',
                unlockTime: new Date('2025-12-22T05:00:00Z'),
                filename: 'day22.html'
            },
            {
                id: 'day23',
                number: 23,
                title: 'Coming Soon',
                unlockTime: new Date('2025-12-23T05:00:00Z'),
                filename: 'day23.html'
            },
            {
                id: 'day24',
                number: 24,
                title: 'Coming Soon',
                unlockTime: new Date('2025-12-24T05:00:00Z'),
                filename: 'day24.html'
            },
            {
                id: 'day25',
                number: 25,
                title: 'Coming Soon',
                unlockTime: new Date('2025-12-25T05:00:00Z'),
                filename: 'day25.html'
            }
        ];
        
        function isUnlocked(unlockTime) {
            return Date.now() >= unlockTime.getTime();
        }
        
        function getProgress(problemId) {
            const progress = localStorage.getItem(`progress_${problemId}`);
            if (!progress) return { part1: false, part2: false };
            
            const data = JSON.parse(progress);
            return {
                part1: data.part1Complete || false,
                part2: data.part2Complete || false
            };
        }
        
        function formatCountdown(unlockTime) {
            const remaining = unlockTime.getTime() - Date.now();
            const days = Math.floor(remaining / (1000 * 60 * 60 * 24));
            const hours = Math.floor((remaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((remaining % (1000 * 60 * 60)) / (1000 * 60));
            
            if (days > 0) {
                return `${days}d ${hours}h`;
            } else if (hours > 0) {
                return `${hours}h ${minutes}m`;
            } else {
                return `${minutes}m`;
            }
        }
        
        function renderCalendar() {
            const calendar = document.getElementById('calendar');
            calendar.innerHTML = '';
            
            let totalStars = 0;
            let completedProblems = 0;
            let unlockedProblems = 0;
            
            PROBLEMS.forEach(problem => {
                const unlocked = isUnlocked(problem.unlockTime);
                const progress = getProgress(problem.id);
                
                if (unlocked) unlockedProblems++;
                if (progress.part1 && progress.part2) completedProblems++;
                if (progress.part1) totalStars++;
                if (progress.part2) totalStars++;
                
                const card = document.createElement('a');
                card.className = 'day-card';
                
                if (!unlocked) {
                    card.classList.add('locked');
                    card.href = '#';
                    card.onclick = (e) => {
                        e.preventDefault();
                        alert(`This problem unlocks in ${formatCountdown(problem.unlockTime)}`);
                    };
                } else {
                    card.href = problem.filename;
                    if (progress.part1 && progress.part2) {
                        card.classList.add('completed');
                    }
                }
                
                let stars = '';
                if (unlocked) {
                    if (progress.part1) stars += '‚≠ê';
                    if (progress.part2) stars += '‚≠ê';
                }
                
                card.innerHTML = `
                    <div class="day-number">Day ${problem.number}</div>
                    <div class="day-title">${problem.title}</div>
                    <div class="day-stars">${stars}</div>
                    ${!unlocked ? '<div class="lock-icon">üîí</div>' : ''}
                `;
                
                calendar.appendChild(card);
            });
            
            // Update stats
            document.getElementById('stars-earned').textContent = totalStars;
            document.getElementById('problems-completed').textContent = completedProblems;
            document.getElementById('problems-unlocked').textContent = unlockedProblems;
        }
        
        // Render calendar on load
        renderCalendar();
        
        // Update every minute to refresh countdown timers
        setInterval(renderCalendar, 60000);
    </script>
</body>
</html>